<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã†ã©ã‚“ã¿ã‹ã‚“ã®AIå­è‚²ã¦LINEã‚¹ã‚¿ãƒ³ãƒ—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #fefaf4;
            color: #5d4037;
            margin: 0;
            overflow-x: hidden;
        }

        .bg-pattern {
            background-image: radial-gradient(#ffe0b2 1.5px, transparent 1.5px);
            background-size: 30px 30px;
        }

        /* ãµã‚ãµã‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }
        .floating { animation: float 4s ease-in-out infinite; }

        .video-container {
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            border: 8px solid white;
            border-radius: 2.5rem;
        }

        .stamp-card:hover {
            transform: translateY(-5px);
            transition: all 0.3s ease;
        }

        .bg-line { background-color: #06c755; }
        .bg-x { background-color: #000000; }
        .bg-facebook { background-color: #1877f2; }

        /* AIã‚»ã‚¯ã‚·ãƒ§ãƒ³ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .ai-card {
            background: linear-gradient(135deg, #ffffff 0%, #fff9f0 100%);
            border: 2px solid #ffedda;
        }

        #toast {
            visibility: hidden;
            min-width: 200px;
            background-color: #5d4037;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 12px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

        .footer-link {
            position: relative;
            text-decoration: none;
            color: inherit;
            font-weight: 700;
        }
        .footer-link::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 4px;
            bottom: -2px;
            left: 0;
            background-color: #ffcc80;
            opacity: 0.4;
            transition: opacity 0.3s;
        }
        .footer-link:hover::after {
            opacity: 0.8;
        }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ffcc80;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-pattern">

    <div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>

    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="pt-8 pb-4 px-4 text-center">
        <h1 class="text-2xl sm:text-4xl font-bold text-brown mb-2 leading-tight">
            ã†ã©ã‚“ã¿ã‹ã‚“ã®<br class="sm:hidden">AIå­è‚²ã¦LINEã‚¹ã‚¿ãƒ³ãƒ—
        </h1>
        <p class="text-xs sm:text-base opacity-75 font-medium tracking-wider">æ¯æ—¥ãŒã‚“ã°ã‚‹ãƒãƒã¨ãƒ‘ãƒ‘ã«ã€ã»ã£ã“ã‚Šç¬‘é¡”ã‚’</p>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ï¼šå‹•ç”»ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="max-w-xl mx-auto px-4 mb-10">
        <div class="video-container relative overflow-hidden bg-white floating">
            <video 
                id="mainVideo"
                class="w-full block" 
                autoplay 
                muted 
                loop 
                playsinline
            >
                <source src="gemini_generated_video_1017CAC4.mp4" type="video/mp4">
            </video>
        </div>
        <div class="mt-8 text-center space-y-4">
            <a href="#lineup" class="inline-flex items-center px-10 py-4 bg-orange-400 text-white rounded-full text-lg font-bold shadow-lg active:scale-95 transition-all hover:bg-orange-500">
                ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã‚’ã¿ã‚‹ ğŸ‚
            </a>
            <p class="text-xs opacity-60">â†“ AIãŒã‚ãªãŸã®è‚²å…ã‚’ã¡ã‚‡ã£ã¨æ¥½ã—ãå¿œæ´ï¼ â†“</p>
        </div>
    </section>

    <!-- âœ¨ AIãŠåŠ©ã‘ã‚µãƒãƒ¼ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="max-w-4xl mx-auto px-4 py-12 mb-16">
        <div class="ai-card rounded-[2.5rem] p-8 md:p-12 shadow-xl relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl rotate-12">âœ¨</div>
            
            <h2 class="text-2xl font-bold text-center mb-8 flex items-center justify-center">
                <span class="mr-2">âœ¨</span> AIè‚²å…å¿œæ´ã‚µãƒãƒ¼ã‚¿ãƒ¼
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ -->
                <div class="space-y-4">
                    <h3 class="font-bold text-lg text-brown border-l-4 border-orange-300 pl-3">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ âœ¨</h3>
                    <p class="text-sm opacity-70">ä»Šã®çŠ¶æ³ã‚’æ•™ãˆã¦ã­ã€‚ã‚¹ã‚¿ãƒ³ãƒ—ã¨ä¸€ç·’ã«é€ã‚‹ã´ã£ãŸã‚Šã®è¨€è‘‰ã‚’è€ƒãˆã¾ã™ï¼</p>
                    <div class="relative">
                        <textarea id="aiInput" class="w-full p-4 rounded-2xl border-2 border-orange-100 focus:border-orange-300 outline-none text-sm transition-all h-32" placeholder="ä¾‹ï¼šã‚„ã£ã¨èµ¤ã¡ã‚ƒã‚“ãŒå¯ãŸã‚ˆ / ãŠè²·ã„ç‰©é ¼ã¿ãŸã„"></textarea>
                    </div>
                    <button onclick="generateAIMessage()" id="generateBtn" class="w-full py-3 bg-orange-400 text-white rounded-full font-bold shadow-md hover:bg-orange-500 transition-all flex items-center justify-center">
                        <span id="btnText">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è€ƒãˆã‚‹ âœ¨</span>
                    </button>
                    <div id="aiResult" class="hidden p-4 bg-white rounded-2xl border border-orange-50 text-sm italic text-brown leading-relaxed shadow-inner"></div>
                </div>

                <!-- AIå¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                <div class="space-y-4">
                    <h3 class="font-bold text-lg text-brown border-l-4 border-pink-300 pl-3">ä»Šæ—¥ã®ãŒã‚“ã°ã‚Šå¿œæ´ âœ¨</h3>
                    <p class="text-sm opacity-70">å¿™ã—ã„ã‚ãªãŸã«ã€AIã‹ã‚‰æ¸©ã‹ã„ç™’ã‚„ã—ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è´ˆã‚Šã¾ã™ã€‚</p>
                    <div class="h-32 flex items-center justify-center bg-white/50 rounded-2xl border-2 border-dashed border-pink-100 p-4">
                        <p id="cheerResult" class="text-sm text-center text-brown font-medium">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã¿ã¦ã­</p>
                    </div>
                    <button onclick="getCheerMessage()" id="cheerBtn" class="w-full py-3 bg-pink-400 text-white rounded-full font-bold shadow-md hover:bg-pink-500 transition-all flex items-center justify-center">
                        å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚‚ã‚‰ã† âœ¨
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ (ã‚¹ã‚¿ãƒ³ãƒ—) -->
    <section id="lineup" class="max-w-5xl mx-auto px-4 py-12">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-10 flex items-center justify-center">
            <span class="text-yellow-400 mr-2">âœ¨</span> AIã‚¹ã‚¿ãƒ³ãƒ—ãƒ»ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— <span class="text-yellow-400 ml-2">âœ¨</span>
        </h2>
        <div id="stampList" class="grid grid-cols-1 sm:grid-cols-2 gap-8">
            <!-- JSã§ç”Ÿæˆ -->
        </div>
    </section>

    <!-- ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ (çµµæ–‡å­—) -->
    <section id="emoji-lineup" class="max-w-5xl mx-auto px-4 py-12">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-10 flex items-center justify-center">
            <span class="text-pink-400 mr-2">ğŸ¨</span>AIçµµæ–‡å­—ãƒ»ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ— <span class="text-pink-400 ml-2">ğŸ¨</span>
        </h2>
        <div id="emojiList" class="grid grid-cols-1 sm:grid-cols-2 gap-8">
            <!-- JSã§ç”Ÿæˆ -->
        </div>
    </section>

    <!-- ç´¹ä»‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
    <section class="max-w-3xl mx-auto px-6 py-12 bg-white/80 rounded-[3rem] shadow-sm mb-16 text-center border-2 border-dashed border-orange-200">
        <h3 class="text-xl font-bold mb-4">ã€Œã†ã©ã‚“ã¿ã‹ã‚“ã€ã®ã‚¹ã‚¿ãƒ³ãƒ—ã£ã¦ï¼Ÿ</h3>
        <p class="text-sm sm:text-base leading-loose mb-6">
            ã€ŒãŠç€æ›¿ãˆã§ããŸï¼ã€ã€Œä»Šã‹ã‚‰å¸°ã‚‹ã‚ˆã€<br>
            å¿™ã—ã„å­è‚²ã¦ã®åˆé–“ã«ã€è¨€è‘‰ã ã‘ã§ã¯ä¼ã‚ã‚‰ãªã„<br>
            <span class="font-bold text-orange-500">â€œã»ã£ã“ã‚Šâ€</span> ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚
        </p>
        <div class="flex justify-center space-x-4 text-2xl">
            <span>ğŸ§¸</span><span>ğŸ¼</span><span>ğŸ‘¶</span><span>ğŸ </span>
        </div>
    </section>

    <!-- ã‚·ã‚§ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="max-w-4xl mx-auto px-4 py-12 mb-20">
        <div class="bg-white rounded-[2.5rem] p-8 text-center shadow-lg border border-orange-50 relative overflow-hidden">
            <h2 class="text-xl font-bold mb-2">ã“ã®ãƒšãƒ¼ã‚¸ã‚’æ•™ãˆã‚‹</h2>
            <div class="grid grid-cols-2 sm:flex sm:justify-center gap-6 mt-8">
                <button onclick="shareSNS('line')" class="flex flex-col items-center group">
                    <div class="w-14 h-14 bg-line rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition-transform">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M24 10.3c0-4.6-4.9-8.3-11-8.3S2 5.7 2 10.3c0 4.1 3.9 7.5 9.2 8.2.4.1.9.3 1 .7l.1 1.9c0 .4.3.5.6.3l2.8-2.1c2.1-.2 8.3-3.1 8.3-9z"/></svg>
                    </div>
                    <span class="text-xs mt-2 font-bold opacity-70">LINE</span>
                </button>
                <button onclick="shareSNS('x')" class="flex flex-col items-center group">
                    <div class="w-14 h-14 bg-x rounded-2xl flex items-center justify-center text-white shadow-md group-hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </div>
                    <span class="text-xs mt-2 font-bold opacity-70">X</span>
                </button>
                <button onclick="copyURL()" class="flex flex-col items-center group">
                    <div class="w-14 h-14 bg-gray-200 rounded-2xl flex items-center justify-center text-gray-600 shadow-md group-hover:scale-110 transition-transform">
                        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                    </div>
                    <span class="text-xs mt-2 font-bold opacity-70">ã‚³ãƒ”ãƒ¼</span>
                </button>
            </div>
        </div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="bg-white/95 py-12 text-center border-t border-gray-100">
        <p class="text-xs sm:text-sm opacity-60">
            Â© <a href="https://udonmikan.github.io/portfolio/" target="_blank" class="footer-link">ã†ã©ã‚“ã¿ã‹ã‚“</a> All Rights Reserved.
        </p>
    </footer>

    <input type="text" id="copyInput" style="position: absolute; left: -9999px;">

    <script>
        const apiKey = ""; // Gemini API Key

        // ã‚¹ã‚¿ãƒ³ãƒ—ãƒ‡ãƒ¼ã‚¿
        const STAMP_LIST = [
            { id: "32734717", title: "ã¯ã‚€ãŠã®è‚²å…ãƒ»å­è‚²ã¦ã‚¹ã‚¿ãƒ³ãƒ—ã€æ—¥æœ¬èªã€‘", desc: "æ¯æ—¥ã®è‚²å…ã‚·ãƒ¼ãƒ³ã«å¯„ã‚Šæ·»ã†ã€ã»ã£ã“ã‚Šã‚¹ã‚¿ãƒ³ãƒ—ã€‚" },
            { id: "32733388", title: "ã¯ã‚€ãŠã®è‚²å…ãƒ»å­è‚²ã¦ã‚¹ã‚¿ãƒ³ãƒ—ã€æ–‡å­—ãªã—ã€‘", desc: "æ–‡å­—ãªã—ã§è‰²ã‚“ãªã‚·ãƒ¼ãƒ³ã«å¯¾å¿œ" }
        ];

        // çµµæ–‡å­—ãƒ‡ãƒ¼ã‚¿
        const EMOJI_LIST = [
            { id: "69800ee814bcdb346ea25851", title: "è‚²å…ãƒ»å­è‚²ã¦ãƒ‰ãƒƒãƒˆçµµæ–‡å­—", desc: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åˆé–“ã«ã¡ã‚‡ã“ã‚“ã¨å¯æ„›ã„ã€‚å¦Šå¨ ä¸­ã‹ã‚‰ä½¿ãˆã‚‹è‚²å…ã®çµµæ–‡å­—ã‚»ãƒƒãƒˆï¼" },
            { id: "6983062a26782733e6b55f28", title: "ã¯ã‚€ãŠè‚²å…ãƒ»å­è‚²ã¦ãƒ‰ãƒƒãƒˆçµµæ–‡å­—", desc: "æ—¥å¸¸ä¼šè©±ã«æ·»ãˆã‚‹ã‹ã‚ã„ã„èµ¤ã¡ã‚ƒã‚“ãƒãƒ ã‚¹ã‚¿ãƒ¼ã¯ã‚€ãŠã¨å®¶æ—ã®è‚²å…ãƒ»å­è‚²ã¦ã€‚è‚²å…ãƒˆãƒ¼ã‚¯ãŒã‚‚ã£ã¨è³‘ã‚„ã‹ã«ï¼" }
        ];

        // --- Gemini API é€£æºç”¨å…±é€šé–¢æ•° ---
        async function callGemini(prompt, systemInstruction) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: systemInstruction }] }
            };

            let delay = 1000;
            for (let i = 0; i < 5; i++) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                        return result.candidates[0].content.parts[0].text;
                    }
                } catch (err) {
                    if (i === 4) throw err;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
            throw new Error('APIå‘¼ã³å‡ºã—ã«å¤±æ•—ã—ã¾ã—ãŸ');
        }

        // 1. AIãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ âœ¨
        async function generateAIMessage() {
            const input = document.getElementById('aiInput').value.trim();
            if (!input) return;

            const btn = document.getElementById('generateBtn');
            const resultDiv = document.getElementById('aiResult');
            const btnText = document.getElementById('btnText');

            btn.disabled = true;
            btnText.innerHTML = '<span class="loader"></span>è€ƒãˆä¸­...';
            resultDiv.classList.add('hidden');

            const systemPrompt = `
                ã‚ãªãŸã¯ã€Œã†ã©ã‚“ã¿ã‹ã‚“ã®å­è‚²ã¦LINEã‚¹ã‚¿ãƒ³ãƒ—ã€ã®å…¬å¼ã‚µãƒãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚
                ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸå­è‚²ã¦ä¸­ã®ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦ã€LINEã§é€ã‚‹ã®ã«ã´ã£ãŸã‚Šãªã€ŒçŸ­ãã¦å¯æ„›ã„ã€ã»ã£ã“ã‚Šã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã‚’2ã€œ3ã¤ææ¡ˆã—ã¦ãã ã•ã„ã€‚
                æœ€å¾Œã«ã€åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆ${STAMP_LIST.map(s => s.title).join(', ')}ï¼‰ã®ã†ã¡ã€ã©ã‚ŒãŒãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åˆã†ã‹ã‚‚ä¸€è¨€æ·»ãˆã¦ãã ã•ã„ã€‚
                ãƒˆãƒ¼ãƒ³ã¯ã€å„ªã—ãã€å¯æ„›ã‚‰ã—ãã€ãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚’äº¤ãˆã¦ã€‚
            `;

            try {
                const response = await callGemini(input, systemPrompt);
                resultDiv.innerText = response;
                resultDiv.classList.remove('hidden');
            } catch (err) {
                resultDiv.innerText = "ã”ã‚ã‚“ãªã•ã„ã€ã¡ã‚‡ã£ã¨è€ƒãˆãŒã¾ã¨ã¾ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¦ã­ï¼";
                resultDiv.classList.remove('hidden');
            } finally {
                btn.disabled = false;
                btnText.innerText = "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è€ƒãˆã‚‹ âœ¨";
            }
        }

        // 2. AIå¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ âœ¨
        async function getCheerMessage() {
            const cheerBtn = document.getElementById('cheerBtn');
            const cheerResult = document.getElementById('cheerResult');

            cheerBtn.disabled = true;
            cheerBtn.innerHTML = '<span class="loader"></span>ç™’ã‚„ã—ã‚’ç”Ÿæˆä¸­...';

            const systemPrompt = `
                ã‚ãªãŸã¯å­è‚²ã¦ã‚’å¿œæ´ã™ã‚‹ã€Œã†ã©ã‚“ã¿ã‹ã‚“ã€ã®å„ªã—ã„å¦–ç²¾ã§ã™ã€‚
                æ¯æ—¥ãŒã‚“ã°ã£ã¦ã„ã‚‹ãƒãƒã‚„ãƒ‘ãƒ‘ã«å‘ã‘ã¦ã€100æ–‡å­—ä»¥å†…ã®ã€Œæ¸©ã‹ãã¦ç™’ã‚„ã•ã‚Œã‚‹å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã‚’1ã¤ã ã‘ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
                ã€Œã‚ãªãŸã¯ååˆ†ãŒã‚“ã°ã£ã¦ã‚‹ã‚ˆã€ã€ŒãŸã¾ã«ã¯è‡ªåˆ†ã‚’ç”˜ã‚„ã‹ã—ã¦ã­ã€ã¨ã„ã£ãŸãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’å«ã‚ã¦ãã ã•ã„ã€‚
                çµµæ–‡å­—ã‚‚é©åº¦ã«ä½¿ã£ã¦ã€èª­ã¿ã‚„ã™ãã€‚
            `;

            try {
                const response = await callGemini("å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãã ã•ã„", systemPrompt);
                cheerResult.innerText = response;
            } catch (err) {
                cheerResult.innerText = "ä»Šæ—¥ã‚‚æœ¬å½“ã«ãŠç–²ã‚Œã•ã¾ã€‚ã‚ãªãŸã¯ç´ æ™´ã‚‰ã—ã„è¦ªã ã‚ˆï¼âœ¨";
            } finally {
                cheerBtn.disabled = false;
                cheerBtn.innerText = "å¿œæ´ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚‚ã‚‰ã† âœ¨";
            }
        }

        // ã‚¹ã‚¿ãƒ³ãƒ—æç”»
        function renderStamps() {
            const container = document.getElementById('stampList');
            container.innerHTML = '';
            STAMP_LIST.forEach(stamp => {
                const imageUrl = `https://stickershop.line-scdn.net/stickershop/v1/product/${stamp.id}/LINEStorePC/main.png`;
                const storeUrl = `https://store.line.me/stickershop/product/${stamp.id}/ja`;
                const card = document.createElement('div');
                card.className = "stamp-card bg-white rounded-[2.5rem] p-6 shadow-md border border-orange-50 flex flex-col items-center text-center transition-all duration-300";
                card.innerHTML = `
                    <div class="w-full aspect-square mb-4 bg-orange-50/30 rounded-3xl flex items-center justify-center overflow-hidden">
                        <img src="${imageUrl}" alt="${stamp.title}" class="w-4/5 h-4/5 object-contain" onerror="this.src='https://via.placeholder.com/300?text=LINE+STAMP'">
                    </div>
                    <h3 class="text-xl font-bold mb-2 tracking-wide">${stamp.title}</h3>
                    <p class="text-sm opacity-70 mb-8 flex-grow leading-relaxed px-4">${stamp.desc}</p>
                    <a href="${storeUrl}" target="_blank" class="w-full py-4 bg-line text-white rounded-full font-bold flex items-center justify-center shadow-sm hover:shadow-lg transition-all active:scale-95">
                        ã‚¹ãƒˆã‚¢ã‚’ã¿ã‚‹ ğŸ›ï¸
                    </a>
                `;
                container.appendChild(card);
            });
        }

        // çµµæ–‡å­—æç”» (ç”»åƒè¡¨ç¤ºéƒ¨åˆ†ã‚’å‰Šé™¤)
        function renderEmojis() {
            const container = document.getElementById('emojiList');
            container.innerHTML = '';
            EMOJI_LIST.forEach(emoji => {
                const storeUrl = `https://store.line.me/emojishop/product/${emoji.id}/ja`;
                const card = document.createElement('div');
                card.className = "stamp-card bg-white rounded-[2.5rem] p-6 shadow-md border border-pink-50 flex flex-col items-center text-center transition-all duration-300";
                card.innerHTML = `
                    <h3 class="text-xl font-bold mb-2 tracking-wide">${emoji.title}</h3>
                    <p class="text-sm opacity-70 mb-8 flex-grow leading-relaxed px-4">${emoji.desc}</p>
                    <a href="${storeUrl}" target="_blank" class="w-full py-4 bg-pink-400 text-white rounded-full font-bold flex items-center justify-center shadow-sm hover:shadow-lg transition-all active:scale-95">
                        ã‚¹ãƒˆã‚¢ã‚’ã¿ã‚‹ ğŸ¨
                    </a>
                `;
                container.appendChild(card);
            });
        }

        function shareSNS(type) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent("ã†ã©ã‚“ã¿ã‹ã‚“ã®å­è‚²ã¦LINEã‚¹ã‚¿ãƒ³ãƒ—ãŒå¯æ„›ã„ï¼ğŸ‘¶âœ¨");
            let shareUrl = "";
            switch(type) {
                case 'line': shareUrl = `https://line.me/R/msg/text/?${text}%20${url}`; break;
                case 'x': shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`; break;
            }
            if(shareUrl) window.open(shareUrl, '_blank');
        }

        function copyURL() {
            const copyInput = document.getElementById('copyInput');
            copyInput.value = window.location.href;
            copyInput.select();
            copyInput.setSelectionRange(0, 99999);
            try { document.execCommand('copy'); showToast(); } catch (err) {}
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.className = "show";
            setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderStamps();
            renderEmojis();
            const v = document.getElementById('mainVideo');
            if(v) v.play().catch(() => {});
        });
    </script>
</body>
</html>